# libEnsemble Generator Functions

## When to Choose a Generator

| Goal | Generator | Module |
|------|-----------|--------|
| Find multiple minima in a space | APOSMM | `persistent_aposmm` |
| Simple random/uniform exploration | Persistent sampling | `persistent_sampling` |
| Sampling with variable compute resources | Var-resource sampling | `persistent_sampling_var_resources` |
| Bayesian optimization with surrogate | gpCAM | `persistent_gpCAM` |
| Bayesian optimization (Ax) | Ax Multitask | (community) |
| Multi-objective optimization | DEAP-NSGA-II, VTMOP | (community) |
| Uniform then local optimization | uniform_or_localopt | `uniform_or_localopt` |

If the user says "find minima", "optimization", "multiple local minima" -> APOSMM.
If the user says "sample", "explore", "sweep", "sensitivity" -> persistent sampling.
If the user says "surrogate", "Gaussian process", "Bayesian" -> gpCAM.

## Sampling Generators

### persistent_sampling (persistent_uniform)
Random uniform sampling across parameter space. After the initial batch, creates p new random points for every p points returned.

gen_specs["user"]: `lb`, `ub`, `initial_batch_size`
gen_specs outputs: `x (float, n)`

### persistent_sampling_var_resources (uniform_sample_with_procs_gpus)
Uniform sampling that also assigns CPU/GPU resources per simulation.

gen_specs["user"]: `initial_batch_size`, `max_procs`, `lb`, `ub`
gen_specs outputs: `num_procs (int)`, `num_gpus (int)`, `x (float, 2)`

## Optimization Generators

### APOSMM (persistent_aposmm)
See the dedicated APOSMM skill file for full details.
Asynchronously Parallel Optimization Solver for finding Multiple Minima.
Allocator: `persistent_aposmm_alloc`
Requires one persistent generator worker (nworkers = sim_workers + 1).

### uniform_or_localopt
Samples uniformly in non-persistent mode, then runs NLopt local optimization in persistent mode. Good for simple optimize-after-sampling workflows.

## Modeling / Approximation Generators

### gpCAM (persistent_gpCAM)
Gaussian Process-based adaptive sampling. Best for expensive simulations where intelligent exploration with a surrogate model is valuable.

gen_specs["user"]: `batch_size`, `lb`, `ub`
Variant: `persistent_gpCAM_covar` adds `use_grid: True` and `final_gen_send: True`.

### Surmise
Modular Bayesian calibration/inference framework. Demonstrates cancelling previously issued simulations.

### Tasmanian
Evaluates points generated by the Tasmanian sparse grid library.
